<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Select plugin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="select.css">
    <script src="select.js"></script>
		<script>
			// fill, initial, get, set, clear, open, close, destroy
			document.addEventListener('DOMContentLoaded', e => {
				const selects = [];
				document.querySelectorAll('.selector').forEach(el => selects.push(new Select(el, {value: 2/*, items: [{id: 1, name: 111}, {id: 2, name: 222}]*/})));
				selects.forEach(s => s.handle(v => console.log('handle', v)));
				document.querySelectorAll('.control').forEach(el => el.addEventListener('click',
					ee => {
						ee.preventDefault();
						const h = el.hash.substr(1);
						const s = selects[document.querySelector('#item').value];
						if(h == 'set') s.set(5);
						else if(h == 'clear') s.clear();
						else if(h == 'get') console.log('get selected value', s.get());
						else if(h == 'open') s.open();
						else if(h == 'close') s.close();
						else if(h == 'destroy') s.destroy();
					}, false));
			}, false);
		</script>
  </head>
  <body>
	<main style="margin:0em auto;padding:1em;max-width:28em;font:120%/1.5 'pt sans',sans-serif;">
	<h1>Select plugin</h1>
	<p>
		API control:
		<select id="item" class="selector" style="font-size:100%;" data-size="5" data-label="Element">
			<option value="1">Div</option>
			<option value="2">Input</option>
			<option value="3">Select</option>
		</select>
		<a href="#open" class="control">Open</a>
		<a href="#close" class="control">Close</a>
		<a href="#get" class="control">Get</a>
		<a href="#set" class="control">Set</a>
		<a href="#clear" class="control">Clear</a>
		<a href="#destroy" class="control">Destroy</a>
	</p>
		<code>Div</code> <div id="div" class="selector" data-src="https://jsonplaceholder.typicode.com/users" data-value="1" data-label="Name"></div>
	<p>
		<code>Input</code> <input size="3" class="selector" data-src="https://jsonplaceholder.typicode.com/todos" data-value="2" data-label="Article">
	</p>
	<p>
		<code>Select</code> <select class="selector" data-label="Item">
			<option value="">Empty</option>
			<option value=" ">Space</option>
			<option value="0">Zero</option>
			<option value="1">One</option>
			<option value="2">Two</option>
		</select>
	</p>
	<p><a href="https://github.com/vvvkor/select-plugin">GitHub</a></p>
	</main>
  </body>
</html>